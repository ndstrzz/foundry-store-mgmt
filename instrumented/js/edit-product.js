function cov_1m0jr9wjfo(){var path="C:\\Users\\User\\Downloads\\second_check\\foundry-store-mgmt\\public\\js\\edit-product.js";var hash="8ddd5ec3d22027f384c4d4cdba2f9896c4d558ac";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\User\\Downloads\\second_check\\foundry-store-mgmt\\public\\js\\edit-product.js",statementMap:{"0":{start:{line:2,column:19},end:{line:2,column:35}},"1":{start:{line:3,column:4},end:{line:6,column:6}},"2":{start:{line:4,column:29},end:{line:4,column:69}},"3":{start:{line:5,column:8},end:{line:5,column:41}},"4":{start:{line:7,column:4},end:{line:7,column:48}},"5":{start:{line:12,column:22},end:{line:12,column:65}},"6":{start:{line:13,column:15},end:{line:13,column:34}},"7":{start:{line:15,column:4},end:{line:15,column:14}},"8":{start:{line:19,column:15},end:{line:19,column:31}},"9":{start:{line:20,column:4},end:{line:20,column:19}},"10":{start:{line:24,column:18},end:{line:24,column:38}},"11":{start:{line:25,column:4},end:{line:25,column:55}},"12":{start:{line:26,column:4},end:{line:26,column:65}},"13":{start:{line:27,column:4},end:{line:38,column:6}},"14":{start:{line:28,column:24},end:{line:28,column:56}},"15":{start:{line:29,column:8},end:{line:37,column:9}},"16":{start:{line:30,column:12},end:{line:30,column:69}},"17":{start:{line:31,column:12},end:{line:31,column:94}},"18":{start:{line:32,column:12},end:{line:32,column:83}},"19":{start:{line:33,column:12},end:{line:33,column:69}},"20":{start:{line:34,column:12},end:{line:34,column:73}},"21":{start:{line:36,column:12},end:{line:36,column:94}},"22":{start:{line:39,column:4},end:{line:41,column:6}},"23":{start:{line:40,column:8},end:{line:40,column:102}},"24":{start:{line:42,column:4},end:{line:42,column:19}},"25":{start:{line:46,column:15},end:{line:46,column:31}},"26":{start:{line:50,column:22},end:{line:50,column:70}},"27":{start:{line:54,column:4},end:{line:62,column:5}},"28":{start:{line:59,column:8},end:{line:59,column:86}},"29":{start:{line:60,column:8},end:{line:60,column:84}},"30":{start:{line:61,column:8},end:{line:61,column:15}},"31":{start:{line:66,column:21},end:{line:66,column:35}},"32":{start:{line:67,column:4},end:{line:67,column:71}},"33":{start:{line:68,column:4},end:{line:68,column:96}},"34":{start:{line:69,column:4},end:{line:69,column:85}},"35":{start:{line:70,column:4},end:{line:70,column:71}},"36":{start:{line:71,column:4},end:{line:73,column:5}},"37":{start:{line:72,column:8},end:{line:72,column:44}},"38":{start:{line:74,column:4},end:{line:76,column:5}},"39":{start:{line:75,column:8},end:{line:75,column:45}},"40":{start:{line:78,column:20},end:{line:78,column:40}},"41":{start:{line:79,column:4},end:{line:79,column:53}},"42":{start:{line:81,column:4},end:{line:96,column:6}},"43":{start:{line:82,column:8},end:{line:95,column:9}},"44":{start:{line:83,column:12},end:{line:83,column:33}},"45":{start:{line:84,column:29},end:{line:84,column:61}},"46":{start:{line:85,column:12},end:{line:91,column:13}},"47":{start:{line:86,column:16},end:{line:86,column:54}},"48":{start:{line:87,column:16},end:{line:87,column:52}},"49":{start:{line:89,column:16},end:{line:89,column:93}},"50":{start:{line:90,column:16},end:{line:90,column:92}},"51":{start:{line:93,column:12},end:{line:93,column:56}},"52":{start:{line:94,column:12},end:{line:94,column:58}},"53":{start:{line:98,column:4},end:{line:100,column:6}},"54":{start:{line:99,column:8},end:{line:99,column:98}},"55":{start:{line:102,column:4},end:{line:102,column:27}}},fnMap:{"0":{name:"previewImage",decl:{start:{line:1,column:9},end:{line:1,column:21}},loc:{start:{line:1,column:29},end:{line:8,column:1}},line:1},"1":{name:"(anonymous_1)",decl:{start:{line:3,column:20},end:{line:3,column:21}},loc:{start:{line:3,column:32},end:{line:6,column:5}},line:3},"2":{name:"getDataFromURL",decl:{start:{line:11,column:9},end:{line:11,column:23}},loc:{start:{line:11,column:26},end:{line:16,column:1}},line:11},"3":{name:"loaded",decl:{start:{line:18,column:9},end:{line:18,column:15}},loc:{start:{line:18,column:18},end:{line:21,column:1}},line:18},"4":{name:"getProduct",decl:{start:{line:23,column:9},end:{line:23,column:19}},loc:{start:{line:23,column:24},end:{line:43,column:1}},line:23},"5":{name:"(anonymous_5)",decl:{start:{line:27,column:21},end:{line:27,column:22}},loc:{start:{line:27,column:33},end:{line:38,column:5}},line:27},"6":{name:"(anonymous_6)",decl:{start:{line:39,column:22},end:{line:39,column:23}},loc:{start:{line:39,column:34},end:{line:41,column:5}},line:39},"7":{name:"updateProduct",decl:{start:{line:45,column:9},end:{line:45,column:22}},loc:{start:{line:45,column:25},end:{line:104,column:1}},line:45},"8":{name:"(anonymous_8)",decl:{start:{line:81,column:21},end:{line:81,column:22}},loc:{start:{line:81,column:33},end:{line:96,column:5}},line:81},"9":{name:"(anonymous_9)",decl:{start:{line:98,column:22},end:{line:98,column:23}},loc:{start:{line:98,column:34},end:{line:100,column:5}},line:98}},branchMap:{"0":{loc:{start:{line:29,column:8},end:{line:37,column:9}},type:"if",locations:[{start:{line:29,column:8},end:{line:37,column:9}},{start:{line:35,column:15},end:{line:37,column:9}}],line:29},"1":{loc:{start:{line:54,column:4},end:{line:62,column:5}},type:"if",locations:[{start:{line:54,column:4},end:{line:62,column:5}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:54},"2":{loc:{start:{line:54,column:8},end:{line:57,column:50}},type:"binary-expr",locations:[{start:{line:54,column:8},end:{line:54,column:50}},{start:{line:55,column:8},end:{line:55,column:51}},{start:{line:56,column:8},end:{line:56,column:57}},{start:{line:57,column:8},end:{line:57,column:50}}],line:54},"3":{loc:{start:{line:71,column:4},end:{line:73,column:5}},type:"if",locations:[{start:{line:71,column:4},end:{line:73,column:5}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:71},"4":{loc:{start:{line:85,column:12},end:{line:91,column:13}},type:"if",locations:[{start:{line:85,column:12},end:{line:91,column:13}},{start:{line:88,column:19},end:{line:91,column:13}}],line:85}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},b:{"0":[0,0],"1":[0,0],"2":[0,0,0,0],"3":[0,0],"4":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8ddd5ec3d22027f384c4d4cdba2f9896c4d558ac"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1m0jr9wjfo=function(){return actualCoverage;};}return actualCoverage;}cov_1m0jr9wjfo();function previewImage(event){cov_1m0jr9wjfo().f[0]++;const reader=(cov_1m0jr9wjfo().s[0]++,new FileReader());cov_1m0jr9wjfo().s[1]++;reader.onload=function(){cov_1m0jr9wjfo().f[1]++;const imagePreview=(cov_1m0jr9wjfo().s[2]++,document.getElementById('image-preview'));cov_1m0jr9wjfo().s[3]++;imagePreview.src=reader.result;};cov_1m0jr9wjfo().s[4]++;reader.readAsDataURL(event.target.files[0]);}function getDataFromURL(){cov_1m0jr9wjfo().f[2]++;const urlParams=(cov_1m0jr9wjfo().s[5]++,new URLSearchParams(window.location.search));const id=(cov_1m0jr9wjfo().s[6]++,urlParams.get('id'));// build full data object here or use id directly.
cov_1m0jr9wjfo().s[7]++;return id;}function loaded(){cov_1m0jr9wjfo().f[3]++;const id=(cov_1m0jr9wjfo().s[8]++,getDataFromURL());cov_1m0jr9wjfo().s[9]++;getProduct(id);}function getProduct(id){cov_1m0jr9wjfo().f[4]++;var request=(cov_1m0jr9wjfo().s[10]++,new XMLHttpRequest());cov_1m0jr9wjfo().s[11]++;request.open('GET',`/get-product?id=${id}`,true);cov_1m0jr9wjfo().s[12]++;request.setRequestHeader('Content-Type','application/json');cov_1m0jr9wjfo().s[13]++;request.onload=function(){cov_1m0jr9wjfo().f[5]++;const product=(cov_1m0jr9wjfo().s[14]++,JSON.parse(request.responseText));cov_1m0jr9wjfo().s[15]++;if(product){cov_1m0jr9wjfo().b[0][0]++;cov_1m0jr9wjfo().s[16]++;document.getElementById("editName").value=product.name;cov_1m0jr9wjfo().s[17]++;document.getElementById("editPrice").value=parseFloat(product.price).toFixed(2);cov_1m0jr9wjfo().s[18]++;document.getElementById("editDescription").value=product.description;cov_1m0jr9wjfo().s[19]++;document.getElementById("editSize").value=product.size;cov_1m0jr9wjfo().s[20]++;document.getElementById("image-preview").src=product.image;}else{cov_1m0jr9wjfo().b[0][1]++;cov_1m0jr9wjfo().s[21]++;document.getElementById('productDetails').innerHTML=`<p>Product not found.</p>`;}};cov_1m0jr9wjfo().s[22]++;request.onerror=function(){cov_1m0jr9wjfo().f[6]++;cov_1m0jr9wjfo().s[23]++;document.getElementById('productDetails').innerHTML=`<p>Error loading product details.</p>`;};cov_1m0jr9wjfo().s[24]++;request.send();}function updateProduct(){cov_1m0jr9wjfo().f[7]++;const id=(cov_1m0jr9wjfo().s[25]++,getDataFromURL());// select image file
const imageFile=(cov_1m0jr9wjfo().s[26]++,document.getElementById("image-upload").files[0]);// check for required fields
cov_1m0jr9wjfo().s[27]++;if((cov_1m0jr9wjfo().b[2][0]++,!document.getElementById("editName").value)||(cov_1m0jr9wjfo().b[2][1]++,!document.getElementById("editPrice").value)||(cov_1m0jr9wjfo().b[2][2]++,!document.getElementById("editDescription").value)||(cov_1m0jr9wjfo().b[2][3]++,!document.getElementById("editSize").value)){cov_1m0jr9wjfo().b[1][0]++;cov_1m0jr9wjfo().s[28]++;document.getElementById("editMessage").innerHTML='All fields are required!';cov_1m0jr9wjfo().s[29]++;document.getElementById("editMessage").setAttribute("class","text-danger");cov_1m0jr9wjfo().s[30]++;return;}else{cov_1m0jr9wjfo().b[1][1]++;}// create form data and append fields
const formData=(cov_1m0jr9wjfo().s[31]++,new FormData());cov_1m0jr9wjfo().s[32]++;formData.append("name",document.getElementById("editName").value);cov_1m0jr9wjfo().s[33]++;formData.append("price",parseFloat(document.getElementById("editPrice").value).toFixed(2));cov_1m0jr9wjfo().s[34]++;formData.append("description",document.getElementById("editDescription").value);cov_1m0jr9wjfo().s[35]++;formData.append("size",document.getElementById("editSize").value);cov_1m0jr9wjfo().s[36]++;if(imageFile){cov_1m0jr9wjfo().b[3][0]++;cov_1m0jr9wjfo().s[37]++;formData.append("image",imageFile);}else{cov_1m0jr9wjfo().b[3][1]++;}cov_1m0jr9wjfo().s[38]++;for(var pair of formData.entries()){cov_1m0jr9wjfo().s[39]++;console.log(pair[0]+', '+pair[1]);}const request=(cov_1m0jr9wjfo().s[40]++,new XMLHttpRequest());cov_1m0jr9wjfo().s[41]++;request.open("PUT","/edit-product/"+id,true);cov_1m0jr9wjfo().s[42]++;request.onload=function(){cov_1m0jr9wjfo().f[8]++;cov_1m0jr9wjfo().s[43]++;try{cov_1m0jr9wjfo().s[44]++;console.log(request);const response=(cov_1m0jr9wjfo().s[45]++,JSON.parse(request.responseText));cov_1m0jr9wjfo().s[46]++;if(request.status==200){cov_1m0jr9wjfo().b[4][0]++;cov_1m0jr9wjfo().s[47]++;alert('Product successfully edited!');cov_1m0jr9wjfo().s[48]++;window.location.href='index.html';}else{cov_1m0jr9wjfo().b[4][1]++;cov_1m0jr9wjfo().s[49]++;document.getElementById("editMessage").innerHTML='Unable to edit product!';cov_1m0jr9wjfo().s[50]++;document.getElementById("editMessage").setAttribute("class","text-danger");}}catch(e){cov_1m0jr9wjfo().s[51]++;console.error("Error parsing response:",e);cov_1m0jr9wjfo().s[52]++;alert('An error occurred. Please try again.');}};cov_1m0jr9wjfo().s[53]++;request.onerror=function(){cov_1m0jr9wjfo().f[9]++;cov_1m0jr9wjfo().s[54]++;alert('An error occurred during the update. Please check your connection and try again.');};cov_1m0jr9wjfo().s[55]++;request.send(formData);}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMW0wanI5d2pmbyIsImFjdHVhbENvdmVyYWdlIiwicHJldmlld0ltYWdlIiwiZXZlbnQiLCJmIiwicmVhZGVyIiwicyIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJpbWFnZVByZXZpZXciLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwic3JjIiwicmVzdWx0IiwicmVhZEFzRGF0YVVSTCIsInRhcmdldCIsImZpbGVzIiwiZ2V0RGF0YUZyb21VUkwiLCJ1cmxQYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInNlYXJjaCIsImlkIiwiZ2V0IiwibG9hZGVkIiwiZ2V0UHJvZHVjdCIsInJlcXVlc3QiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJzZXRSZXF1ZXN0SGVhZGVyIiwicHJvZHVjdCIsIkpTT04iLCJwYXJzZSIsInJlc3BvbnNlVGV4dCIsImIiLCJ2YWx1ZSIsIm5hbWUiLCJwYXJzZUZsb2F0IiwicHJpY2UiLCJ0b0ZpeGVkIiwiZGVzY3JpcHRpb24iLCJzaXplIiwiaW1hZ2UiLCJpbm5lckhUTUwiLCJvbmVycm9yIiwic2VuZCIsInVwZGF0ZVByb2R1Y3QiLCJpbWFnZUZpbGUiLCJzZXRBdHRyaWJ1dGUiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwicGFpciIsImVudHJpZXMiLCJjb25zb2xlIiwibG9nIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJhbGVydCIsImhyZWYiLCJlIiwiZXJyb3IiXSwic291cmNlcyI6WyJlZGl0LXByb2R1Y3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gcHJldmlld0ltYWdlKGV2ZW50KSB7XHJcbiAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zdCBpbWFnZVByZXZpZXcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1hZ2UtcHJldmlldycpO1xyXG4gICAgICAgIGltYWdlUHJldmlldy5zcmMgPSByZWFkZXIucmVzdWx0O1xyXG4gICAgfTtcclxuICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGV2ZW50LnRhcmdldC5maWxlc1swXSk7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBnZXREYXRhRnJvbVVSTCgpIHtcclxuICAgIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XHJcbiAgICBjb25zdCBpZCA9IHVybFBhcmFtcy5nZXQoJ2lkJyk7XHJcbiAgICAvLyBidWlsZCBmdWxsIGRhdGEgb2JqZWN0IGhlcmUgb3IgdXNlIGlkIGRpcmVjdGx5LlxyXG4gICAgcmV0dXJuIGlkO1xyXG59XHJcblxyXG5mdW5jdGlvbiBsb2FkZWQoKSB7XHJcbiAgICBjb25zdCBpZCA9IGdldERhdGFGcm9tVVJMKCk7XHJcbiAgICBnZXRQcm9kdWN0KGlkKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0UHJvZHVjdChpZCkge1xyXG4gICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgIHJlcXVlc3Qub3BlbignR0VUJywgYC9nZXQtcHJvZHVjdD9pZD0ke2lkfWAsIHRydWUpO1xyXG4gICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xyXG4gICAgcmVxdWVzdC5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc3QgcHJvZHVjdCA9IEpTT04ucGFyc2UocmVxdWVzdC5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgIGlmIChwcm9kdWN0KSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWRpdE5hbWVcIikudmFsdWUgPSBwcm9kdWN0Lm5hbWU7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWRpdFByaWNlXCIpLnZhbHVlID0gcGFyc2VGbG9hdChwcm9kdWN0LnByaWNlKS50b0ZpeGVkKDIpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVkaXREZXNjcmlwdGlvblwiKS52YWx1ZSA9IHByb2R1Y3QuZGVzY3JpcHRpb247XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWRpdFNpemVcIikudmFsdWUgPSBwcm9kdWN0LnNpemU7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW1hZ2UtcHJldmlld1wiKS5zcmMgPSBwcm9kdWN0LmltYWdlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9kdWN0RGV0YWlscycpLmlubmVySFRNTCA9IGA8cD5Qcm9kdWN0IG5vdCBmb3VuZC48L3A+YDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9kdWN0RGV0YWlscycpLmlubmVySFRNTCA9IGA8cD5FcnJvciBsb2FkaW5nIHByb2R1Y3QgZGV0YWlscy48L3A+YDtcclxuICAgIH07XHJcbiAgICByZXF1ZXN0LnNlbmQoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlUHJvZHVjdCgpIHtcclxuICAgIGNvbnN0IGlkID0gZ2V0RGF0YUZyb21VUkwoKTtcclxuXHJcblxyXG4gICAgLy8gc2VsZWN0IGltYWdlIGZpbGVcclxuICAgIGNvbnN0IGltYWdlRmlsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW1hZ2UtdXBsb2FkXCIpLmZpbGVzWzBdO1xyXG5cclxuXHJcbiAgICAvLyBjaGVjayBmb3IgcmVxdWlyZWQgZmllbGRzXHJcbiAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWRpdE5hbWVcIikudmFsdWUgfHxcclxuICAgICAgICAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlZGl0UHJpY2VcIikudmFsdWUgfHxcclxuICAgICAgICAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlZGl0RGVzY3JpcHRpb25cIikudmFsdWUgfHxcclxuICAgICAgICAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlZGl0U2l6ZVwiKS52YWx1ZSkge1xyXG5cclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVkaXRNZXNzYWdlXCIpLmlubmVySFRNTCA9ICdBbGwgZmllbGRzIGFyZSByZXF1aXJlZCEnO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWRpdE1lc3NhZ2VcIikuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJ0ZXh0LWRhbmdlclwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIGNyZWF0ZSBmb3JtIGRhdGEgYW5kIGFwcGVuZCBmaWVsZHNcclxuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICBmb3JtRGF0YS5hcHBlbmQoXCJuYW1lXCIsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWRpdE5hbWVcIikudmFsdWUpO1xyXG4gICAgZm9ybURhdGEuYXBwZW5kKFwicHJpY2VcIiwgcGFyc2VGbG9hdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVkaXRQcmljZVwiKS52YWx1ZSkudG9GaXhlZCgyKSk7XHJcbiAgICBmb3JtRGF0YS5hcHBlbmQoXCJkZXNjcmlwdGlvblwiLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVkaXREZXNjcmlwdGlvblwiKS52YWx1ZSk7XHJcbiAgICBmb3JtRGF0YS5hcHBlbmQoXCJzaXplXCIsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWRpdFNpemVcIikudmFsdWUpO1xyXG4gICAgaWYgKGltYWdlRmlsZSkge1xyXG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZChcImltYWdlXCIsIGltYWdlRmlsZSk7XHJcbiAgICB9XHJcbiAgICBmb3IgKHZhciBwYWlyIG9mIGZvcm1EYXRhLmVudHJpZXMoKSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHBhaXJbMF0rICcsICcgKyBwYWlyWzFdKTsgXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgcmVxdWVzdC5vcGVuKFwiUFVUXCIsIFwiL2VkaXQtcHJvZHVjdC9cIiArIGlkLCB0cnVlKTtcclxuXHJcbiAgICByZXF1ZXN0Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXF1ZXN0KTtcclxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzID09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoJ1Byb2R1Y3Qgc3VjY2Vzc2Z1bGx5IGVkaXRlZCEnKTtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJ2luZGV4Lmh0bWwnO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlZGl0TWVzc2FnZVwiKS5pbm5lckhUTUwgPSAnVW5hYmxlIHRvIGVkaXQgcHJvZHVjdCEnO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlZGl0TWVzc2FnZVwiKS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInRleHQtZGFuZ2VyXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcGFyc2luZyByZXNwb25zZTpcIiwgZSk7XHJcbiAgICAgICAgICAgIGFsZXJ0KCdBbiBlcnJvciBvY2N1cnJlZC4gUGxlYXNlIHRyeSBhZ2Fpbi4nKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBhbGVydCgnQW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIHRoZSB1cGRhdGUuIFBsZWFzZSBjaGVjayB5b3VyIGNvbm5lY3Rpb24gYW5kIHRyeSBhZ2Fpbi4nKTtcclxuICAgIH07XHJcblxyXG4gICAgcmVxdWVzdC5zZW5kKGZvcm1EYXRhKTtcclxuXHJcbn1cclxuXHJcblxyXG5cclxuIl0sIm1hcHBpbmdzIjoiOHROQWVZO0FBQUFBLGNBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNBQUEsRUFBQUQsY0FBQSxHQWZaLFFBQVMsQ0FBQUUsWUFBWUEsQ0FBQ0MsS0FBSyxDQUFFLENBQUFILGNBQUEsR0FBQUksQ0FBQSxNQUN6QixLQUFNLENBQUFDLE1BQU0sRUFBQUwsY0FBQSxHQUFBTSxDQUFBLE1BQUcsR0FBSSxDQUFBQyxVQUFVLENBQUMsQ0FBQyxFQUFDUCxjQUFBLEdBQUFNLENBQUEsTUFDaENELE1BQU0sQ0FBQ0csTUFBTSxDQUFHLFVBQVksQ0FBQVIsY0FBQSxHQUFBSSxDQUFBLE1BQ3hCLEtBQU0sQ0FBQUssWUFBWSxFQUFBVCxjQUFBLEdBQUFNLENBQUEsTUFBR0ksUUFBUSxDQUFDQyxjQUFjLENBQUMsZUFBZSxDQUFDLEVBQUNYLGNBQUEsR0FBQU0sQ0FBQSxNQUM5REcsWUFBWSxDQUFDRyxHQUFHLENBQUdQLE1BQU0sQ0FBQ1EsTUFBTSxDQUNwQyxDQUFDLENBQUNiLGNBQUEsR0FBQU0sQ0FBQSxNQUNGRCxNQUFNLENBQUNTLGFBQWEsQ0FBQ1gsS0FBSyxDQUFDWSxNQUFNLENBQUNDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUMvQyxDQUdBLFFBQVMsQ0FBQUMsY0FBY0EsQ0FBQSxDQUFHLENBQUFqQixjQUFBLEdBQUFJLENBQUEsTUFD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